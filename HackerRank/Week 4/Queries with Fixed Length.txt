#include <stdlib.h>
#include <limits.h>

int* solve(int arr_count, int* arr, int queries_count, int* queries, int* result_count) {
    *result_count = queries_count;
    int* result = (int*)malloc(queries_count * sizeof(int));

    for (int q = 0; q < queries_count; q++) {
        int k = queries[q];
        int min_of_max = INT_MAX;

        for (int i = 0; i <= arr_count - k; i++) {
            int max_in_window = arr[i];
            for (int j = 1; j < k; j++) {
                if (arr[i + j] > max_in_window) {
                    max_in_window = arr[i + j];
                }
            }
            if (max_in_window < min_of_max) {
                min_of_max = max_in_window;
            }
        }
        result[q] = min_of_max;
    }

    return result;
}
